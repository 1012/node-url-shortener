<!DOCTYPE html> 
<html lang="RU-ru">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" /> 
    <title>node-url-shortener | dotzero</title> 

    <link rel="stylesheet" href="css/reset.css" /> 
    <link rel="stylesheet" href="css/style.css" />
    
    <!--[if lte IE 8]>
    <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--> 

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script>
    $(document).ready(function() {
        $('#submit').click(function(e){
            e.preventDefault;

            $.post('/api', { 'longUrl' : $('#urlfield').val() }, function(data){
                if(data.shortUrl) {
                    var url = window.location.href + data.shortUrl;

                    $('#urlfield').hide();
                    $('#submit').hide();
                    $('#urllink a').attr('href', url).text(url);
                    $('#urllink').fadeIn('slow');
                }
            })
        });
    });
    </script>
</head>
 
<body>
<div id="wrapper">
    <div id="container"> 
        <h1>Node Url Shortener</h1>
        <div id="form-outer">
            <div id="form-inner">
                <div id="urllink"><a href="#"></a></div>
                <input id="urlfield" type="text" name="url" value="http://www.google.com/" />
                <a id="submit">Get link!</a>
            </div>
        </div>
    </div><!-- end #container --> 
</div><!-- end #wrapper --> 
</body> 
</html>